{"ast":null,"code":"function makeOperation(lastValue, value, operation) {\n  switch (operation) {\n    case \"sum\":\n      return lastValue + value;\n\n    case \"subtract\":\n      return lastValue - value;\n\n    case \"multiply\":\n      return lastValue * value;\n\n    case \"divide\":\n      return lastValue / value;\n\n    default:\n      return 0;\n  }\n}\n\nfunction calculadora(state, action) {\n  if (state === undefined) {\n    return {\n      value: 0,\n      lastValue: null,\n      operation: null,\n      isResult: false\n    };\n  }\n\n  var value = state.value;\n  var lastValue = state.lastValue;\n  var operation = state.operation;\n  var isResult = state.isResult;\n\n  switch (action.type) {\n    case \"updateValue\":\n      return {\n        value: isResult ? action.value : value * 10 + action.value,\n        lastValue: isResult ? null : lastValue,\n        operation: isResult ? null : operation,\n        isResult: false\n      };\n\n    case \"clear\":\n      return {\n        value: 0,\n        lastValue: null,\n        operation: null,\n        isResult: false\n      };\n\n    case \"operation\":\n      return {\n        value: 0,\n        lastValue: operation === null ? value : makeOperation(lastValue, value, operation),\n        operation: action.operation,\n        isResult: false\n      };\n\n    case \"equalsTo\":\n      return {\n        value: operation === null ? value : makeOperation(lastValue, value, operation),\n        lastValue: operation === null ? lastValue : null,\n        operation: operation === null ? operation : null,\n        isResult: isResult ? true : operation === null ? false : true\n      };\n\n    default:\n      return state;\n  }\n}\n\nexport default calculadora;","map":{"version":3,"sources":["/home/rodri/Desktop/COMP_2SEM/CES26/at7/src/reducer.js"],"names":["makeOperation","lastValue","value","operation","calculadora","state","action","undefined","isResult","type"],"mappings":"AAAA,SAASA,aAAT,CAAuBC,SAAvB,EAAkCC,KAAlC,EAAyCC,SAAzC,EAAmD;AAC/C,UAAOA,SAAP;AACI,SAAK,KAAL;AACI,aAAOF,SAAS,GAACC,KAAjB;;AACJ,SAAK,UAAL;AACI,aAAOD,SAAS,GAACC,KAAjB;;AACJ,SAAK,UAAL;AACI,aAAOD,SAAS,GAACC,KAAjB;;AACJ,SAAK,QAAL;AACI,aAAOD,SAAS,GAACC,KAAjB;;AACJ;AACI,aAAO,CAAP;AAVR;AAYH;;AAED,SAASE,WAAT,CAAqBC,KAArB,EAA4BC,MAA5B,EAAmC;AAC/B,MAAID,KAAK,KAAKE,SAAd,EAAwB;AACpB,WAAO;AAAEL,MAAAA,KAAK,EAAE,CAAT;AAAaD,MAAAA,SAAS,EAAE,IAAxB;AAA8BE,MAAAA,SAAS,EAAE,IAAzC;AAA+CK,MAAAA,QAAQ,EAAE;AAAzD,KAAP;AACH;;AAED,MAAIN,KAAK,GAAGG,KAAK,CAACH,KAAlB;AACA,MAAID,SAAS,GAAGI,KAAK,CAACJ,SAAtB;AACA,MAAIE,SAAS,GAAGE,KAAK,CAACF,SAAtB;AACA,MAAIK,QAAQ,GAAGH,KAAK,CAACG,QAArB;;AAEA,UAAOF,MAAM,CAACG,IAAd;AACI,SAAK,aAAL;AACI,aAAO;AAAEP,QAAAA,KAAK,EAAEM,QAAQ,GAAGF,MAAM,CAACJ,KAAV,GAAkBA,KAAK,GAAC,EAAN,GAAWI,MAAM,CAACJ,KAArD;AACED,QAAAA,SAAS,EAAEO,QAAQ,GAAE,IAAF,GAAOP,SAD5B;AAEEE,QAAAA,SAAS,EAAEK,QAAQ,GAAE,IAAF,GAAOL,SAF5B;AAGEK,QAAAA,QAAQ,EAAE;AAHZ,OAAP;;AAKJ,SAAK,OAAL;AACI,aAAO;AAAEN,QAAAA,KAAK,EAAE,CAAT;AACED,QAAAA,SAAS,EAAE,IADb;AAEEE,QAAAA,SAAS,EAAE,IAFb;AAGEK,QAAAA,QAAQ,EAAE;AAHZ,OAAP;;AAKJ,SAAK,WAAL;AACI,aAAO;AAAEN,QAAAA,KAAK,EAAE,CAAT;AACED,QAAAA,SAAS,EAAEE,SAAS,KAAK,IAAd,GAAoBD,KAApB,GAA0BF,aAAa,CAACC,SAAD,EAAYC,KAAZ,EAAmBC,SAAnB,CADpD;AAEEA,QAAAA,SAAS,EAAEG,MAAM,CAACH,SAFpB;AAGEK,QAAAA,QAAQ,EAAE;AAHZ,OAAP;;AAKJ,SAAK,UAAL;AACI,aAAO;AAAEN,QAAAA,KAAK,EAAEC,SAAS,KAAK,IAAd,GAAmBD,KAAnB,GAAyBF,aAAa,CAACC,SAAD,EAAYC,KAAZ,EAAmBC,SAAnB,CAA/C;AACEF,QAAAA,SAAS,EAAEE,SAAS,KAAK,IAAd,GAAmBF,SAAnB,GAA6B,IAD1C;AAEEE,QAAAA,SAAS,EAAEA,SAAS,KAAK,IAAd,GAAmBA,SAAnB,GAA6B,IAF1C;AAGEK,QAAAA,QAAQ,EAAEA,QAAQ,GAAC,IAAD,GAAOL,SAAS,KAAK,IAAd,GAAmB,KAAnB,GAAyB;AAHpD,OAAP;;AAKJ;AACI,aAAOE,KAAP;AA1BR;AA8BH;;AAED,eAAeD,WAAf","sourcesContent":["function makeOperation(lastValue, value, operation){\n    switch(operation){\n        case \"sum\":\n            return lastValue+value;\n        case \"subtract\":\n            return lastValue-value;\n        case \"multiply\":\n            return lastValue*value;\n        case \"divide\":\n            return lastValue/value;\n        default:\n            return 0;\n    }\n}\n\nfunction calculadora(state, action){\n    if (state === undefined){\n        return { value: 0 , lastValue: null, operation: null, isResult: false};\n    }\n\n    var value = state.value;\n    var lastValue = state.lastValue;\n    var operation = state.operation;\n    var isResult = state.isResult;\n\n    switch(action.type){\n        case \"updateValue\":\n            return { value: isResult? (action.value):(value*10 + action.value), \n                     lastValue: isResult? null:lastValue, \n                     operation: isResult? null:operation,\n                     isResult: false};\n\n        case \"clear\":\n            return { value: 0 , \n                     lastValue: null,\n                     operation: null,\n                     isResult: false};\n\n        case \"operation\":\n            return { value: 0,\n                     lastValue: operation === null? value:makeOperation(lastValue, value, operation),\n                     operation: action.operation,\n                     isResult: false} \n\n        case \"equalsTo\":\n            return { value: operation === null?value:makeOperation(lastValue, value, operation),\n                     lastValue: operation === null?lastValue:null,\n                     operation: operation === null?operation:null,\n                     isResult: isResult?true:(operation === null?false:true)}\n\n        default:\n            return state;\n\n\n    }\n}\n\nexport default calculadora;"]},"metadata":{},"sourceType":"module"}